

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    Gio.Task -
    
      Classes -
    
      Gio 2.0 -
    
    Python GI API Reference
  </title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

<style>
.wy-side-nav-search, .wy-nav-top {
    background-color: #75507b !important;
}
.wy-side-nav-search input[type="text"] {
    border-color: #75507b !important;
}

@media screen and (max-width: 768px){
    img {
        width: auto !important;
    }
}

.wy-table-responsive table th,
.wy-table-responsive table td {
    white-space: normal !important;
}
</style>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../../../',
        VERSION:'0.1',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  false
      };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
    <link rel="top" title="Python GI API Reference 0.1 documentation" href="../../../index.html"/>
        <link rel="up" title="Classes" href="index.html"/>
        <link rel="next" title="Gio.TcpConnection" href="TcpConnection.html"/>
        <link rel="prev" title="Gio.SocketService" href="SocketService.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../../index.html" class="icon icon-home"> Python GI API Reference</a>
        <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../AccountsService_1.0/index.html">AccountsService 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Anjuta_3.0/index.html">Anjuta 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Anthy_9000/index.html">Anthy 9000</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../AppIndicator3_0.1/index.html">AppIndicator3 0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Atk_1.0/index.html">Atk 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Atspi_2.0/index.html">Atspi 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Cally_1.0/index.html">Cally 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Caribou_1.0/index.html">Caribou 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Champlain_0.12/index.html">Champlain 0.12</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Cheese_3.0/index.html">Cheese 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clutter_1.0/index.html">Clutter 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ClutterGdk_1.0/index.html">ClutterGdk 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ClutterGst_2.0/index.html">ClutterGst 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ClutterX11_1.0/index.html">ClutterX11 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Cogl_1.0/index.html">Cogl 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CoglPango_1.0/index.html">CoglPango 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Colord_1.0/index.html">Colord 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ColordGtk_1.0/index.html">ColordGtk 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ColorHug_1.0/index.html">ColorHug 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CryptUI_0.0/index.html">CryptUI 0.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DBus_1.0/index.html">DBus 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DBusGLib_1.0/index.html">DBusGLib 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Dbusmenu_0.4/index.html">Dbusmenu 0.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DbusmenuGtk3_0.4/index.html">DbusmenuGtk3 0.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Dee_1.0/index.html">Dee 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../EBook_1.2/index.html">EBook 1.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../EBookContacts_1.2/index.html">EBookContacts 1.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../EDataServer_1.2/index.html">EDataServer 1.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Evd_0.1/index.html">Evd 0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../EvinceDocument_3.0/index.html">EvinceDocument 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../EvinceView_3.0/index.html">EvinceView 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Fcitx_1.0/index.html">Fcitx 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fontconfig_2.0/index.html">fontconfig 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../freetype2_2.0/index.html">freetype2 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gck_1/index.html">Gck 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GConf_2.0/index.html">GConf 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gcr_3/index.html">Gcr 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GcrUi_3/index.html">GcrUi 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GData_0.0/index.html">GData 0.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GDesktopEnums_3.0/index.html">GDesktopEnums 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gdk_3.0/index.html">Gdk 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GdkPixbuf_2.0/index.html">GdkPixbuf 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GdkX11_3.0/index.html">GdkX11 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gdl_3/index.html">Gdl 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gdm_1.0/index.html">Gdm 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GeocodeGlib_1.0/index.html">GeocodeGlib 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GExiv2_0.4/index.html">GExiv2 0.4</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Gio 2.0</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks.html">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/index.html">Interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Classes</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">Gio.Task</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../structs/index.html">Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flags.html">Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../enums.html">Enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="../constants.html">Constants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../GIRepository_2.0/index.html">GIRepository 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gkbd_3.0/index.html">Gkbd 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GL_1.0/index.html">GL 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GLib_2.0/index.html">GLib 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GMenu_3.0/index.html">GMenu 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GModule_2.0/index.html">GModule 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GnomeBluetooth_1.0/index.html">GnomeBluetooth 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GnomeDesktop_3.0/index.html">GnomeDesktop 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GnomeKeyring_1.0/index.html">GnomeKeyring 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Goa_1.0/index.html">Goa 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GObject_2.0/index.html">GObject 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Grl_0.2/index.html">Grl 0.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GrlNet_0.2/index.html">GrlNet 0.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gsf_1/index.html">Gsf 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GSSDP_1.0/index.html">GSSDP 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gst_1.0/index.html">Gst 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstAllocators_1.0/index.html">GstAllocators 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstApp_1.0/index.html">GstApp 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstAudio_1.0/index.html">GstAudio 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstBase_1.0/index.html">GstBase 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstCheck_1.0/index.html">GstCheck 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstController_1.0/index.html">GstController 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstFft_1.0/index.html">GstFft 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstNet_1.0/index.html">GstNet 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstPbutils_1.0/index.html">GstPbutils 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstRiff_1.0/index.html">GstRiff 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstRtp_1.0/index.html">GstRtp 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstRtsp_1.0/index.html">GstRtsp 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstSdp_1.0/index.html">GstSdp 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstTag_1.0/index.html">GstTag 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GstVideo_1.0/index.html">GstVideo 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gtk_3.0/index.html">Gtk 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GtkChamplain_0.12/index.html">GtkChamplain 0.12</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GtkClutter_1.0/index.html">GtkClutter 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GtkSource_3.0/index.html">GtkSource 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GtkSpell_3.0/index.html">GtkSpell 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GtkVnc_2.0/index.html">GtkVnc 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Gucharmap_2.90/index.html">Gucharmap 2.90</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GUdev_1.0/index.html">GUdev 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GUPnP_1.0/index.html">GUPnP 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GUPnPAV_1.0/index.html">GUPnPAV 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GUPnPDLNA_2.0/index.html">GUPnPDLNA 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GUPnPDLNAGst_2.0/index.html">GUPnPDLNAGst 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GUPnPIgd_1.0/index.html">GUPnPIgd 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GUsb_1.0/index.html">GUsb 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GVnc_1.0/index.html">GVnc 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GVncPulse_1.0/index.html">GVncPulse 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GWeather_3.0/index.html">GWeather 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GXPS_0.1/index.html">GXPS 0.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../IBus_1.0/index.html">IBus 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Indicate_0.7/index.html">Indicate 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Itl_1.0/index.html">Itl 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../JavaScriptCore_3.0/index.html">JavaScriptCore 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Json_1.0/index.html">Json 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Keybinder_0.0/index.html">Keybinder 0.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LangTag_0.5/index.html">LangTag 0.5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libisocodes_1.0/index.html">libisocodes 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Libosinfo_1.0/index.html">Libosinfo 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LibvirtGConfig_1.0/index.html">LibvirtGConfig 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LibvirtGLib_1.0/index.html">LibvirtGLib 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LibvirtGObject_1.0/index.html">LibvirtGObject 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libxml2_2.0/index.html">libxml2 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LunarDate_2.0/index.html">LunarDate 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Mx_1.0/index.html">Mx 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nautilus_3.0/index.html">Nautilus 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Nemo_3.0/index.html">Nemo 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../NetworkManager_1.0/index.html">NetworkManager 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Notify_0.7/index.html">Notify 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PackageKitGlib_1.0/index.html">PackageKitGlib 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PackageKitPlugin_1.0/index.html">PackageKitPlugin 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PanelApplet_4.0/index.html">PanelApplet 4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Pango_1.0/index.html">Pango 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PangoCairo_1.0/index.html">PangoCairo 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PangoFT2_1.0/index.html">PangoFT2 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PangoXft_1.0/index.html">PangoXft 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Peas_1.0/index.html">Peas 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PeasGtk_1.0/index.html">PeasGtk 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Polkit_1.0/index.html">Polkit 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PolkitAgent_1.0/index.html">PolkitAgent 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Poppler_0.18/index.html">Poppler 0.18</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Rest_0.7/index.html">Rest 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RestExtras_0.7/index.html">RestExtras 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Rsvg_2.0/index.html">Rsvg 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Soup_2.4/index.html">Soup 2.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UDisks_2.0/index.html">UDisks 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UMockdev_1.0/index.html">UMockdev 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../UPowerGlib_1.0/index.html">UPowerGlib 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../WebKit2_3.0/index.html">WebKit2 3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xfixes_4.0/index.html">xfixes 4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xft_2.0/index.html">xft 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xlib_2.0/index.html">xlib 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xrandr_1.3/index.html">xrandr 1.3</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="../../../index.html">Python GI API Reference</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="../../../index.html">Docs</a> &raquo;</li>
  
  <li></li><a href="../index.html">Gio 2.0</a> &raquo;</li>
  
  <li></li><a href="index.html">Classes</a> &raquo;</li>
  
  <li><a href="">Gio.Task</a></li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/lazka/pgi-docgen/issues/new?title=BUG: api/Gio_2.0/classes/Task" class="icon icon-github"> Report a Bug</a>
    </li>
</ul>
<hr/>

          
  <div class="section" id="gio-task">
<h1>Gio.Task<a class="headerlink" href="#gio-task" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<img src="../../../_images/inheritance-9aa26e7083618434d7d698f38d2ed41a55683acd.png" alt="Inheritance diagram of Gio.Task" usemap="#inheritance7e7c5db39b" class="inheritance"/>
<map id="inheritance7e7c5db39b" name="inheritance7e7c5db39b">
<area shape="rect" id="node1" href="../../GObject_2.0/interfaces/GInterface.html#GObject.GInterface" title="GObject.GInterface" alt="" coords="5,5,120,29"/>
<area shape="rect" id="node2" href="../interfaces/AsyncResult.html#Gio.AsyncResult" title="Gio.AsyncResult" alt="" coords="13,77,112,101"/>
<area shape="rect" id="node5" href="#Gio.Task" title="Gio.Task" alt="" coords="87,149,159,173"/>
<area shape="rect" id="node4" href="../../GObject_2.0/classes/Object.html#GObject.Object" title="GObject.Object" alt="" coords="136,77,232,101"/>
</map>
</p>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="0%" />
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#Gio.Task.is_valid" title="Gio.Task.is_valid"><tt class="xref py py-obj docutils literal"><span class="pre">is_valid</span></tt></a>(result, source_object)</td>
</tr>
<tr class="row-even"><td><em>static</em></td>
<td><a class="reference internal" href="#Gio.Task.new" title="Gio.Task.new"><tt class="xref py py-obj docutils literal"><span class="pre">new</span></tt></a>(source_object, cancellable, callback, *callback_data)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_cancellable" title="Gio.Task.get_cancellable"><tt class="xref py py-obj docutils literal"><span class="pre">get_cancellable</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_check_cancellable" title="Gio.Task.get_check_cancellable"><tt class="xref py py-obj docutils literal"><span class="pre">get_check_cancellable</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_context" title="Gio.Task.get_context"><tt class="xref py py-obj docutils literal"><span class="pre">get_context</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_priority" title="Gio.Task.get_priority"><tt class="xref py py-obj docutils literal"><span class="pre">get_priority</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_return_on_cancel" title="Gio.Task.get_return_on_cancel"><tt class="xref py py-obj docutils literal"><span class="pre">get_return_on_cancel</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_source_object" title="Gio.Task.get_source_object"><tt class="xref py py-obj docutils literal"><span class="pre">get_source_object</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_source_tag" title="Gio.Task.get_source_tag"><tt class="xref py py-obj docutils literal"><span class="pre">get_source_tag</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.get_task_data" title="Gio.Task.get_task_data"><tt class="xref py py-obj docutils literal"><span class="pre">get_task_data</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.had_error" title="Gio.Task.had_error"><tt class="xref py py-obj docutils literal"><span class="pre">had_error</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.propagate_boolean" title="Gio.Task.propagate_boolean"><tt class="xref py py-obj docutils literal"><span class="pre">propagate_boolean</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.propagate_int" title="Gio.Task.propagate_int"><tt class="xref py py-obj docutils literal"><span class="pre">propagate_int</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.propagate_pointer" title="Gio.Task.propagate_pointer"><tt class="xref py py-obj docutils literal"><span class="pre">propagate_pointer</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.return_boolean" title="Gio.Task.return_boolean"><tt class="xref py py-obj docutils literal"><span class="pre">return_boolean</span></tt></a>(result)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.return_error_if_cancelled" title="Gio.Task.return_error_if_cancelled"><tt class="xref py py-obj docutils literal"><span class="pre">return_error_if_cancelled</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.return_int" title="Gio.Task.return_int"><tt class="xref py py-obj docutils literal"><span class="pre">return_int</span></tt></a>(result)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.return_pointer" title="Gio.Task.return_pointer"><tt class="xref py py-obj docutils literal"><span class="pre">return_pointer</span></tt></a>(result, result_destroy)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.set_check_cancellable" title="Gio.Task.set_check_cancellable"><tt class="xref py py-obj docutils literal"><span class="pre">set_check_cancellable</span></tt></a>(check_cancellable)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.set_priority" title="Gio.Task.set_priority"><tt class="xref py py-obj docutils literal"><span class="pre">set_priority</span></tt></a>(priority)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-obj docutils literal"><span class="pre">set_return_on_cancel</span></tt></a>(return_on_cancel)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Gio.Task.set_source_tag" title="Gio.Task.set_source_tag"><tt class="xref py py-obj docutils literal"><span class="pre">set_source_tag</span></tt></a>(source_tag)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Gio.Task.set_task_data" title="Gio.Task.set_task_data"><tt class="xref py py-obj docutils literal"><span class="pre">set_task_data</span></tt></a>(task_data, task_data_destroy)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="properties">
<span id="gio-task-props"></span><h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="signals">
<span id="gio-task-sigs"></span><h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Gio.Task">
<em class="property">class </em><tt class="descclassname">Gio.</tt><tt class="descname">Task</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#Gio.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../GObject_2.0/classes/Object.html#GObject.Object" title="GObject.Object"><tt class="xref py py-class docutils literal"><span class="pre">GObject.Object</span></tt></a>, <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult" title="Gio.AsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult</span></tt></a></p>
<p>A <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> represents and manages a cancellable &#8220;task&#8221;.</p>
<p>Asynchronous operations</p>
<p>The most common usage of <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> is as a <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult" title="Gio.AsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult</span></tt></a>, to
manage data during an asynchronous operation. You call
<a class="reference internal" href="#Gio.Task.new" title="Gio.Task.new"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.new</span></tt></a> () in the &#8220;start&#8221; method, followed by
<a class="reference internal" href="#Gio.Task.set_task_data" title="Gio.Task.set_task_data"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_task_data</span></tt></a> () and the like if you need to keep some
additional data associated with the task, and then pass the
task object around through your asynchronous operation.
Eventually, you will call a method such as
<a class="reference internal" href="#Gio.Task.return_pointer" title="Gio.Task.return_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_pointer</span></tt></a> () or <tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_error</span></tt> (), which will
save the value you give it and then invoke the task&#8217;s callback
function (waiting until the next next iteration of the main
loop first, if necessary). The caller will pass the <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> back
to the operation&#8217;s finish function (as a <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult" title="Gio.AsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult</span></tt></a> ), and
you can use <a class="reference internal" href="#Gio.Task.propagate_pointer" title="Gio.Task.propagate_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.propagate_pointer</span></tt></a> () or the like to extract
the return value.</p>
<p><a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> as a <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult" title="Gio.AsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult</span></tt></a></p>
<div class="highlight-c"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">CakeFrostingType</span> <span class="n">frosting</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">message</span><span class="p">;</span>
<span class="p">}</span> <span class="n">DecorationData</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">decoration_data_free</span> <span class="p">(</span><span class="n">DecorationData</span> <span class="o">*</span><span class="n">decoration</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">g_free</span> <span class="p">(</span><span class="n">decoration</span><span class="o">-&gt;</span><span class="n">message</span><span class="p">);</span>
  <span class="n">g_slice_free</span> <span class="p">(</span><span class="n">DecorationData</span><span class="p">,</span> <span class="n">decoration</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">baked_cb</span> <span class="p">(</span><span class="n">Cake</span>     <span class="o">*</span><span class="n">cake</span><span class="p">,</span>
          <span class="n">gpointer</span>  <span class="n">user_data</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">GTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="n">user_data</span><span class="p">;</span>
  <span class="n">DecorationData</span> <span class="o">*</span><span class="n">decoration</span> <span class="o">=</span> <span class="n">g_task_get_task_data</span> <span class="p">(</span><span class="n">task</span><span class="p">);</span>
  <span class="n">GError</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">cake</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">g_task_return_new_error</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">BAKER_ERROR</span><span class="p">,</span> <span class="n">BAKER_ERROR_NO_FLOUR</span><span class="p">,</span>
                               <span class="s">&quot;Go to the supermarket&quot;</span><span class="p">);</span>
      <span class="n">g_object_unref</span> <span class="p">(</span><span class="n">task</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cake_decorate</span> <span class="p">(</span><span class="n">cake</span><span class="p">,</span> <span class="n">decoration</span><span class="o">-&gt;</span><span class="n">frosting</span><span class="p">,</span> <span class="n">decoration</span><span class="o">-&gt;</span><span class="n">message</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">error</span><span class="p">))</span>
    <span class="p">{</span>
      <span class="n">g_object_unref</span> <span class="p">(</span><span class="n">cake</span><span class="p">);</span>
      <span class="o">/&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">ast</span> <span class="n">g_task_return_error</span><span class="p">()</span> <span class="n">takes</span> <span class="n">ownership</span> <span class="n">of</span> <span class="n">error</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">ast</span><span class="o">/</span>
      <span class="n">g_task_return_error</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
      <span class="n">g_object_unref</span> <span class="p">(</span><span class="n">task</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="n">g_task_return_pointer</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">cake</span><span class="p">,</span> <span class="n">g_object_unref</span><span class="p">);</span>
  <span class="n">g_object_unref</span> <span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>
<span class="nf">baker_bake_cake_async</span> <span class="p">(</span><span class="n">Baker</span>               <span class="o">*</span><span class="n">self</span><span class="p">,</span>
                       <span class="n">guint</span>                <span class="n">radius</span><span class="p">,</span>
                       <span class="n">CakeFlavor</span>           <span class="n">flavor</span><span class="p">,</span>
                       <span class="n">CakeFrostingType</span>     <span class="n">frosting</span><span class="p">,</span>
                       <span class="k">const</span> <span class="kt">char</span>          <span class="o">*</span><span class="n">message</span><span class="p">,</span>
                       <span class="n">GCancellable</span>        <span class="o">*</span><span class="n">cancellable</span><span class="p">,</span>
                       <span class="n">GAsyncReadyCallback</span>  <span class="n">callback</span><span class="p">,</span>
                       <span class="n">gpointer</span>             <span class="n">user_data</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">GTask</span> <span class="o">*</span><span class="n">task</span><span class="p">;</span>
  <span class="n">DecorationData</span> <span class="o">*</span><span class="n">decoration</span><span class="p">;</span>
  <span class="n">Cake</span>  <span class="o">*</span><span class="n">cake</span><span class="p">;</span>

  <span class="n">task</span> <span class="o">=</span> <span class="n">g_task_new</span> <span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">cancellable</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">user_data</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">radius</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">g_task_return_new_error</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">BAKER_ERROR</span><span class="p">,</span> <span class="n">BAKER_ERROR_TOO_SMALL</span><span class="p">,</span>
                               <span class="s">&quot;%ucm radius cakes are silly&quot;</span><span class="p">,</span>
                               <span class="n">radius</span><span class="p">);</span>
      <span class="n">g_object_unref</span> <span class="p">(</span><span class="n">task</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="n">cake</span> <span class="o">=</span> <span class="n">_baker_get_cached_cake</span> <span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">flavor</span><span class="p">,</span> <span class="n">frosting</span><span class="p">,</span> <span class="n">message</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">cake</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="o">/&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">ast</span> <span class="n">_baker_get_cached_cake</span><span class="p">()</span> <span class="n">returns</span> <span class="n">a</span> <span class="n">reffed</span> <span class="n">cake</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">ast</span><span class="o">/</span>
      <span class="n">g_task_return_pointer</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">cake</span><span class="p">,</span> <span class="n">g_object_unref</span><span class="p">);</span>
      <span class="n">g_object_unref</span> <span class="p">(</span><span class="n">task</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="n">decoration</span> <span class="o">=</span> <span class="n">g_slice_new</span> <span class="p">(</span><span class="n">DecorationData</span><span class="p">);</span>
  <span class="n">decoration</span><span class="o">-&gt;</span><span class="n">frosting</span> <span class="o">=</span> <span class="n">frosting</span><span class="p">;</span>
  <span class="n">decoration</span><span class="o">-&gt;</span><span class="n">message</span> <span class="o">=</span> <span class="n">g_strdup</span> <span class="p">(</span><span class="n">message</span><span class="p">);</span>
  <span class="n">g_task_set_task_data</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">decoration</span><span class="p">,</span> <span class="p">(</span><span class="n">GDestroyNotify</span><span class="p">)</span> <span class="n">decoration_data_free</span><span class="p">);</span>

  <span class="n">_baker_begin_cake</span> <span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">flavor</span><span class="p">,</span> <span class="n">cancellable</span><span class="p">,</span> <span class="n">baked_cb</span><span class="p">,</span> <span class="n">task</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">Cake</span> <span class="o">*</span>
<span class="nf">baker_bake_cake_finish</span> <span class="p">(</span><span class="n">Baker</span>         <span class="o">*</span><span class="n">self</span><span class="p">,</span>
                        <span class="n">GAsyncResult</span>  <span class="o">*</span><span class="n">result</span><span class="p">,</span>
                        <span class="n">GError</span>       <span class="o">**</span><span class="n">error</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">g_return_val_if_fail</span> <span class="p">(</span><span class="n">g_task_is_valid</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">self</span><span class="p">),</span> <span class="nb">NULL</span><span class="p">);</span>

  <span class="k">return</span> <span class="n">g_task_propagate_pointer</span> <span class="p">(</span><span class="n">G_TASK</span> <span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="n">error</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Chained asynchronous operations</p>
<p><a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> also tries to simplify asynchronous operations that
internally chain together several smaller asynchronous
operations. <a class="reference internal" href="#Gio.Task.get_cancellable" title="Gio.Task.get_cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.get_cancellable</span></tt></a> (), <a class="reference internal" href="#Gio.Task.get_context" title="Gio.Task.get_context"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.get_context</span></tt></a> (), and
<a class="reference internal" href="#Gio.Task.get_priority" title="Gio.Task.get_priority"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.get_priority</span></tt></a> () allow you to get back the task&#8217;s
<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a>, <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a>, and I/O priority when starting a new
subtask, so you don&#8217;t have to keep track of them yourself.
<tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.attach_source</span></tt> () simplifies the case of waiting for a
source to fire (automatically using the correct <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a> 
and priority).</p>
<p>Chained asynchronous operations</p>
<div class="highlight-c"><pre>typedef struct {
  Cake *cake;
  CakeFrostingType frosting;
  char *message;
} BakingData;

static void
decoration_data_free (BakingData *bd)
{
  if (bd-&gt;cake)
    g_object_unref (bd-&gt;cake);
  g_free (bd-&gt;message);
  g_slice_free (BakingData, bd);
}

static void
decorated_cb (Cake         *cake,
              GAsyncResult *result,
              gpointer      user_data)
{
  GTask *task = user_data;
  GError *error = NULL;

  if (!cake_decorate_finish (cake, result, &amp;amp;error))
    {
      g_object_unref (cake);
      g_task_return_error (task, error);
      g_object_unref (task);
      return;
    }

  /&amp;amp;ast baking_data_free() will drop its ref on the cake, so
   &amp;amp;ast we have to take another here to give to the caller.
   &amp;amp;ast/
  g_task_return_pointer (result, g_object_ref (cake), g_object_unref);
  g_object_unref (task);
}

static void
decorator_ready (gpointer user_data)
{
  GTask *task = user_data;
  BakingData *bd = g_task_get_task_data (task);

  cake_decorate_async (bd-&gt;cake, bd-&gt;frosting, bd-&gt;message,
                       g_task_get_cancellable (task),
                       decorated_cb, task);
}

static void
baked_cb (Cake     *cake,
          gpointer  user_data)
{
  GTask *task = user_data;
  BakingData *bd = g_task_get_task_data (task);
  GError *error = NULL;

  if (cake == NULL)
    {
      g_task_return_new_error (task, BAKER_ERROR, BAKER_ERROR_NO_FLOUR,
                               "Go to the supermarket");
      g_object_unref (task);
      return;
    }

  bd-&gt;cake = cake;

  /&amp;amp;ast Bail out now if the user has already cancelled &amp;amp;ast/
  if (g_task_return_error_if_cancelled (g_task_get_cancellable (task)))
    {
      g_object_unref (task);
      return;
    }

  if (cake_decorator_available (cake))
    decorator_ready (task);
  else
    {
      GSource *source;

      source = cake_decorator_wait_source_new (cake);
      /&amp;amp;ast Attach @source to @task's GMainContext and have it call
       &amp;amp;ast decorator_ready() when it is ready.
       &amp;amp;ast/
      g_task_attach_source (task, source,
                            G_CALLBACK (decorator_ready));
      g_source_unref (source);
    }
}

void
baker_bake_cake_async (Baker               *self,
                       guint                radius,
                       CakeFlavor           flavor,
                       CakeFrostingType     frosting,
                       const char          *message,
                       gint                 priority,
                       GCancellable        *cancellable,
                       GAsyncReadyCallback  callback,
                       gpointer             user_data)
{
  GTask *task;
  BakingData *bd;

  task = g_task_new (self, cancellable, callback, user_data);
  g_task_set_priority (task, priority);

  bd = g_slice_new0 (BakingData);
  bd-&gt;frosting = frosting;
  bd-&gt;message = g_strdup (message);
  g_task_set_task_data (task, bd, (GDestroyNotify) baking_data_free);

  _baker_begin_cake (self, radius, flavor, cancellable, baked_cb, task);
}

Cake *
baker_bake_cake_finish (Baker         *self,
                        GAsyncResult  *result,
                        GError       **error)
{
  g_return_val_if_fail (g_task_is_valid (result, self), NULL);

  return g_task_propagate_pointer (G_TASK (result), error);
}</pre>
</div>
<p>Asynchronous operations from synchronous ones</p>
<p>You can use <tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread</span></tt> () to turn a synchronous
operation into an asynchronous one, by running it in a thread
which will then dispatch the result back to the caller&#8217;s
<a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a> when it completes.</p>
<p><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread</span></tt> ()</p>
<div class="highlight-c"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">guint</span> <span class="n">radius</span><span class="p">;</span>
  <span class="n">CakeFlavor</span> <span class="n">flavor</span><span class="p">;</span>
  <span class="n">CakeFrostingType</span> <span class="n">frosting</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">message</span><span class="p">;</span>
<span class="p">}</span> <span class="n">CakeData</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">cake_data_free</span> <span class="p">(</span><span class="n">CakeData</span> <span class="o">*</span><span class="n">cake_data</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">g_free</span> <span class="p">(</span><span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">message</span><span class="p">);</span>
  <span class="n">g_slice_free</span> <span class="p">(</span><span class="n">CakeData</span><span class="p">,</span> <span class="n">cake_data</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">bake_cake_thread</span> <span class="p">(</span><span class="n">GTask</span>         <span class="o">*</span><span class="n">task</span><span class="p">,</span>
                  <span class="n">gpointer</span>       <span class="n">source_object</span><span class="p">,</span>
                  <span class="n">gpointer</span>       <span class="n">task_data</span><span class="p">,</span>
                  <span class="n">GCancellable</span>  <span class="o">*</span><span class="n">cancellable</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Baker</span> <span class="o">*</span><span class="n">self</span> <span class="o">=</span> <span class="n">source_object</span><span class="p">;</span>
  <span class="n">CakeData</span> <span class="o">*</span><span class="n">cake_data</span> <span class="o">=</span> <span class="n">task_data</span><span class="p">;</span>
  <span class="n">Cake</span> <span class="o">*</span><span class="n">cake</span><span class="p">;</span>
  <span class="n">GError</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

  <span class="n">cake</span> <span class="o">=</span> <span class="n">bake_cake</span> <span class="p">(</span><span class="n">baker</span><span class="p">,</span> <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">radius</span><span class="p">,</span> <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">flavor</span><span class="p">,</span>
                    <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">frosting</span><span class="p">,</span> <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">message</span><span class="p">,</span>
                    <span class="n">cancellable</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">error</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">cake</span><span class="p">)</span>
    <span class="n">g_task_return_pointer</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">cake</span><span class="p">,</span> <span class="n">g_object_unref</span><span class="p">);</span>
  <span class="k">else</span>
    <span class="n">g_task_return_error</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span>
<span class="nf">baker_bake_cake_async</span> <span class="p">(</span><span class="n">Baker</span>               <span class="o">*</span><span class="n">self</span><span class="p">,</span>
                       <span class="n">guint</span>                <span class="n">radius</span><span class="p">,</span>
                       <span class="n">CakeFlavor</span>           <span class="n">flavor</span><span class="p">,</span>
                       <span class="n">CakeFrostingType</span>     <span class="n">frosting</span><span class="p">,</span>
                       <span class="k">const</span> <span class="kt">char</span>          <span class="o">*</span><span class="n">message</span><span class="p">,</span>
                       <span class="n">GCancellable</span>        <span class="o">*</span><span class="n">cancellable</span><span class="p">,</span>
                       <span class="n">GAsyncReadyCallback</span>  <span class="n">callback</span><span class="p">,</span>
                       <span class="n">gpointer</span>             <span class="n">user_data</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">CakeData</span> <span class="o">*</span><span class="n">cake_data</span><span class="p">;</span>
  <span class="n">GTask</span> <span class="o">*</span><span class="n">task</span><span class="p">;</span>

  <span class="n">cake_data</span> <span class="o">=</span> <span class="n">g_slice_new</span> <span class="p">(</span><span class="n">CakeData</span><span class="p">);</span>
  <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span><span class="p">;</span>
  <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">flavor</span> <span class="o">=</span> <span class="n">flavor</span><span class="p">;</span>
  <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">frosting</span> <span class="o">=</span> <span class="n">frosting</span><span class="p">;</span>
  <span class="n">cake_data</span><span class="o">-&gt;</span><span class="n">message</span> <span class="o">=</span> <span class="n">g_strdup</span> <span class="p">(</span><span class="n">message</span><span class="p">);</span>
  <span class="n">task</span> <span class="o">=</span> <span class="n">g_task_new</span> <span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">cancellable</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">user_data</span><span class="p">);</span>
  <span class="n">g_task_set_task_data</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">cake_data</span><span class="p">,</span> <span class="p">(</span><span class="n">GDestroyNotify</span><span class="p">)</span> <span class="n">cake_data_free</span><span class="p">);</span>
  <span class="n">g_task_run_in_thread</span> <span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">bake_cake_thread</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">Cake</span> <span class="o">*</span>
<span class="nf">baker_bake_cake_finish</span> <span class="p">(</span><span class="n">Baker</span>         <span class="o">*</span><span class="n">self</span><span class="p">,</span>
                        <span class="n">GAsyncResult</span>  <span class="o">*</span><span class="n">result</span><span class="p">,</span>
                        <span class="n">GError</span>       <span class="o">**</span><span class="n">error</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">g_return_val_if_fail</span> <span class="p">(</span><span class="n">g_task_is_valid</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">self</span><span class="p">),</span> <span class="nb">NULL</span><span class="p">);</span>

  <span class="k">return</span> <span class="n">g_task_propagate_pointer</span> <span class="p">(</span><span class="n">G_TASK</span> <span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="n">error</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Adding cancellability to uncancellable tasks</p>
<p>Finally, <tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread</span></tt> () and <tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread_sync</span></tt> ()
can be used to turn an uncancellable operation into a
cancellable one. If you call <a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_return_on_cancel</span></tt></a> (),
passing <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>, then if the task&#8217;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> is cancelled,
it will return control back to the caller immediately, while
allowing the task thread to continue running in the background
(and simply discarding its result when it finally does finish).
Provided that the task thread is careful about how it uses
locks and other externally-visible resources, this allows you
to make &#8220;GLib-friendly&#8221; asynchronous and cancellable
synchronous variants of blocking APIs.</p>
<p><a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_return_on_cancel</span></tt></a> ()</p>
<div class="highlight-c"><pre>static void
bake_cake_thread (GTask         *task,
                  gpointer       source_object,
                  gpointer       task_data,
                  GCancellable  *cancellable)
{
  Baker *self = source_object;
  CakeData *cake_data = task_data;
  Cake *cake;
  GError *error = NULL;

  cake = bake_cake (baker, cake_data-&gt;radius, cake_data-&gt;flavor,
                    cake_data-&gt;frosting, cake_data-&gt;message,
                    &amp;amp;error);
  if (error)
    {
      g_task_return_error (task, error);
      return;
    }

  /&amp;amp;ast If the task has already been cancelled, then we don't
   &amp;amp;ast want to add the cake to the cake cache. Likewise, we don't
   &amp;amp;ast want to have the task get cancelled in the middle of
   &amp;amp;ast updating the cache. g_task_set_return_on_cancel() will
   &amp;amp;ast return %TRUE here if it managed to disable return-on-cancel,
   &amp;amp;ast or %FALSE if the task was cancelled before it could.
   &amp;amp;ast/
  if (g_task_set_return_on_cancel (task, FALSE))
    {
      /&amp;amp;ast If the caller cancels at this point, their
       &amp;amp;ast GAsyncReadyCallback won't be invoked until we return,
       &amp;amp;ast so we don't have to worry that this code will run at
       &amp;amp;ast the same time as that code does. But if there were
       &amp;amp;ast other functions that might look at the cake cache,
       &amp;amp;ast then we'd probably need a GMutex here as well.
       &amp;amp;ast/
      baker_add_cake_to_cache (baker, cake);
      g_task_return_pointer (task, cake, g_object_unref);
    }
}

void
baker_bake_cake_async (Baker               *self,
                       guint                radius,
                       CakeFlavor           flavor,
                       CakeFrostingType     frosting,
                       const char          *message,
                       GCancellable        *cancellable,
                       GAsyncReadyCallback  callback,
                       gpointer             user_data)
{
  CakeData *cake_data;
  GTask *task;

  cake_data = g_slice_new (CakeData);
  /&amp;amp;ast ... &amp;amp;ast/

  task = g_task_new (self, cancellable, callback, user_data);
  g_task_set_task_data (task, cake_data, (GDestroyNotify) cake_data_free);
  g_task_set_return_on_cancel (task, TRUE);
  g_task_run_in_thread (task, bake_cake_thread);
}

Cake *
baker_bake_cake_sync (Baker               *self,
                      guint                radius,
                      CakeFlavor           flavor,
                      CakeFrostingType     frosting,
                      const char          *message,
                      GCancellable        *cancellable,
                      GError             **error)
{
  CakeData *cake_data;
  GTask *task;
  Cake *cake;

  cake_data = g_slice_new (CakeData);
  /&amp;amp;ast ... &amp;amp;ast/

  task = g_task_new (self, cancellable, NULL, NULL);
  g_task_set_task_data (task, cake_data, (GDestroyNotify) cake_data_free);
  g_task_set_return_on_cancel (task, TRUE);
  g_task_run_in_thread_sync (task, bake_cake_thread);

  cake = g_task_propagate_pointer (task, error);
  g_object_unref (task);
  return cake;
}</pre>
</div>
<p>Porting fromGSimpleAsyncResult</p>
<p><a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> &#8216;s API attempts to be simpler than <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult" title="Gio.SimpleAsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult</span></tt></a> &#8216;s
in several ways:</p>
<ul class="simple">
<li>You can save task-specific data with <a class="reference internal" href="#Gio.Task.set_task_data" title="Gio.Task.set_task_data"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_task_data</span></tt></a> (), and       retrieve it later with <a class="reference internal" href="#Gio.Task.get_task_data" title="Gio.Task.get_task_data"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.get_task_data</span></tt></a> (). This replaces the       abuse of <tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult.set_op_res_gpointer</span></tt> () for the same       purpose with <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult" title="Gio.SimpleAsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult</span></tt></a>.</li>
<li>In addition to the task data, <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> also keeps track of thepriority, <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a>, and       <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a> associated with the task, so tasks that consist of       a chain of simpler asynchronous operations will have easy access       to those values when starting each sub-task.</li>
<li><a class="reference internal" href="#Gio.Task.return_error_if_cancelled" title="Gio.Task.return_error_if_cancelled"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_error_if_cancelled</span></tt></a> () provides simplified       handling for cancellation. In addition, cancellation       overrides any other <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> return value by default, like       <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult" title="Gio.SimpleAsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult</span></tt></a> does when       <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult.set_check_cancellable" title="Gio.SimpleAsyncResult.set_check_cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult.set_check_cancellable</span></tt></a> () is called.       (You can use <a class="reference internal" href="#Gio.Task.set_check_cancellable" title="Gio.Task.set_check_cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_check_cancellable</span></tt></a> () to turn off that       behavior.) On the other hand, <tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread</span></tt> ()       guarantees that it will always run yourtask_func, even if the task&#8217;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a>        is already cancelled before the task gets a chance to run;       you can start yourtask_funcwith a       <a class="reference internal" href="#Gio.Task.return_error_if_cancelled" title="Gio.Task.return_error_if_cancelled"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_error_if_cancelled</span></tt></a> () check if you need the       old behavior.</li>
<li>The &#8220;return&#8221; methods (eg, <a class="reference internal" href="#Gio.Task.return_pointer" title="Gio.Task.return_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_pointer</span></tt></a> ())       automatically cause the task to be &#8220;completed&#8221; as well, and       there is no need to worry about the &#8220;complete&#8221; vs &#8220;complete       in idle&#8221; distinction. (<a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> automatically figures out       whether the task&#8217;s callback can be invoked directly, or       if it needs to be sent to another <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a>, or delayed       until the next iteration of the current <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a>.)</li>
<li>The &#8220;finish&#8221; functions for <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a>-based operations are generally       much simpler than <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult" title="Gio.SimpleAsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult</span></tt></a> ones, normally consisting       of only a single call to <a class="reference internal" href="#Gio.Task.propagate_pointer" title="Gio.Task.propagate_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.propagate_pointer</span></tt></a> () or the like.       Since <a class="reference internal" href="#Gio.Task.propagate_pointer" title="Gio.Task.propagate_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.propagate_pointer</span></tt></a> () &#8220;steals&#8221; the return value from       the <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a>, it is not necessary to juggle pointers around to       prevent it from being freed twice.</li>
<li>With <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult" title="Gio.SimpleAsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult</span></tt></a>, it was common to call       <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult.propagate_error" title="Gio.SimpleAsyncResult.propagate_error"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult.propagate_error</span></tt></a> () from the_finish()wrapper function, and have       virtual method implementations only deal with successful       returns. This behavior is deprecated, because it makes it       difficult for a subclass to chain to a parent class&#8217;s async       methods. Instead, the wrapper function should just be a       simple wrapper, and the virtual method should call an       appropriateg_task_propagate_function.       Note that wrapper methods can now use       <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult.legacy_propagate_error" title="Gio.AsyncResult.legacy_propagate_error"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult.legacy_propagate_error</span></tt></a> () to do old-style       <a class="reference internal" href="SimpleAsyncResult.html#Gio.SimpleAsyncResult" title="Gio.SimpleAsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.SimpleAsyncResult</span></tt></a> error-returning behavior, and       <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult.is_tagged" title="Gio.AsyncResult.is_tagged"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult.is_tagged</span></tt></a> () to check if a result is tagged as       having come from the_async()wrapper       function (for &#8220;short-circuit&#8221; results, such as when passing       0 to <a class="reference internal" href="InputStream.html#Gio.InputStream.read_async" title="Gio.InputStream.read_async"><tt class="xref py py-class docutils literal"><span class="pre">Gio.InputStream.read_async</span></tt></a> ()).</li>
</ul>
<dl class="staticmethod">
<dt id="Gio.Task.is_valid">
<em class="property">static </em><tt class="descname">is_valid</tt><big>(</big><em>result</em>, <em>source_object</em><big>)</big><a class="headerlink" href="#Gio.Task.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>result</strong> (<a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult" title="Gio.AsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult</span></tt></a>) &#8211; A <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult" title="Gio.AsyncResult"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult</span></tt></a></li>
<li><strong>source_object</strong> (<a class="reference internal" href="../../GObject_2.0/classes/Object.html#GObject.Object" title="GObject.Object"><tt class="xref py py-class docutils literal"><span class="pre">GObject.Object</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; the source object expected to be associated with the task</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if <cite>result</cite> and <cite>source_object</cite> are valid, <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> if not</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Checks that <cite>result</cite> is a <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a>, and that <cite>source_object</cite> is its
source object (or that <cite>source_object</cite> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> and <cite>result</cite> has no
source object). This can be used in g_return_if_fail() checks.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Gio.Task.new">
<em class="property">static </em><tt class="descname">new</tt><big>(</big><em>source_object</em>, <em>cancellable</em>, <em>callback</em>, <em>*callback_data</em><big>)</big><a class="headerlink" href="#Gio.Task.new" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source_object</strong> (<a class="reference internal" href="../../GObject_2.0/classes/Object.html#GObject.Object" title="GObject.Object"><tt class="xref py py-class docutils literal"><span class="pre">GObject.Object</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; the <a class="reference internal" href="../../GObject_2.0/classes/Object.html#GObject.Object" title="GObject.Object"><tt class="xref py py-class docutils literal"><span class="pre">GObject.Object</span></tt></a> that owns this task, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>.</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; optional <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> object, <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> to ignore.</li>
<li><strong>callback</strong> (<a class="reference internal" href="../callbacks.html#Gio.AsyncReadyCallback" title="Gio.AsyncReadyCallback"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncReadyCallback</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; a <a class="reference internal" href="../callbacks.html#Gio.AsyncReadyCallback" title="Gio.AsyncReadyCallback"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncReadyCallback</span></tt></a>.</li>
<li><strong>callback_data</strong> (<tt class="xref py py-class docutils literal"><span class="pre">object</span></tt>) &#8211; user data passed to <cite>callback</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Creates a <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> acting on <cite>source_object</cite>, which will eventually be
used to invoke <cite>callback</cite> in the current thread-default main
context.</p>
<p>Call this in the &#8220;start&#8221; method of your asynchronous method, and
pass the <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> around throughout the asynchronous operation. You
can use <a class="reference internal" href="#Gio.Task.set_task_data" title="Gio.Task.set_task_data"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_task_data</span></tt></a> () to attach task-specific data to the
object, which you can retrieve later via <a class="reference internal" href="#Gio.Task.get_task_data" title="Gio.Task.get_task_data"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.get_task_data</span></tt></a> ().</p>
<p>By default, if <cite>cancellable</cite> is cancelled, then the return value of
the task will always be <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><tt class="xref py py-class docutils literal"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></tt></a>, even if the task had
already completed before the cancellation. This allows for
simplified handling in cases where cancellation may imply that
other objects that the task depends on have been destroyed. If you
do not want this behavior, you can use
<a class="reference internal" href="#Gio.Task.set_check_cancellable" title="Gio.Task.set_check_cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_check_cancellable</span></tt></a> () to change it.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_cancellable">
<tt class="descname">get_cancellable</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_cancellable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>task</cite> &#8216;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets <cite>task</cite> &#8216;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_check_cancellable">
<tt class="descname">get_check_cancellable</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_check_cancellable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets <cite>task</cite> &#8216;s check-cancellable flag. See
<a class="reference internal" href="#Gio.Task.set_check_cancellable" title="Gio.Task.set_check_cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_check_cancellable</span></tt></a> () for more details.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_context">
<tt class="descname">get_context</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_context" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>task</cite> &#8216;s <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a> that <cite>task</cite> will return its result in (that
is, the context that was the thread-default main
context at the point when <cite>task</cite> was created).</p>
<p>This will always return a non-<a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> value, even if the task&#8217;s
context is the default <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_priority">
<tt class="descname">get_priority</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_priority" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>task</cite> &#8216;s priority</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets <cite>task</cite> &#8216;s priority</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_return_on_cancel">
<tt class="descname">get_return_on_cancel</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_return_on_cancel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets <cite>task</cite> &#8216;s return-on-cancel flag. See
<a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_return_on_cancel</span></tt></a> () for more details.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_source_object">
<tt class="descname">get_source_object</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_source_object" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>task</cite> &#8216;s source object, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="../../GObject_2.0/classes/Object.html#GObject.Object" title="GObject.Object"><tt class="xref py py-class docutils literal"><span class="pre">GObject.Object</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the source object from <cite>task</cite>. Like
<a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult.get_source_object" title="Gio.AsyncResult.get_source_object"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult.get_source_object</span></tt></a> (), but does not ref the object.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_source_tag">
<tt class="descname">get_source_tag</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_source_tag" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>task</cite> &#8216;s source tag</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets <cite>task</cite> &#8216;s source tag. See <a class="reference internal" href="#Gio.Task.set_source_tag" title="Gio.Task.set_source_tag"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_source_tag</span></tt></a> ().</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.get_task_data">
<tt class="descname">get_task_data</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.get_task_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>task</cite> &#8216;s <tt class="docutils literal"><span class="pre">task_data</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets <cite>task</cite> &#8216;s <tt class="docutils literal"><span class="pre">task_data</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.had_error">
<tt class="descname">had_error</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.had_error" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if the task resulted in an error, <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> otherwise.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Tests if <cite>task</cite> resulted in an error.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.propagate_boolean">
<tt class="descname">propagate_boolean</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.propagate_boolean" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../GLib_2.0/classes/GError.html#GLib.GError" title="GLib.GError"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the task result, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> on error</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the result of <cite>task</cite> as a <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a>.</p>
<p>If the task resulted in an error, or was cancelled, then this will
instead return <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> and set <cite>error</cite>.</p>
<p>Since this method transfers ownership of the return value (or
error) to the caller, you may only call it once.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.propagate_int">
<tt class="descname">propagate_int</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.propagate_int" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../GLib_2.0/classes/GError.html#GLib.GError" title="GLib.GError"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the task result, or -1 on error</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the result of <cite>task</cite> as an integer (#gssize).</p>
<p>If the task resulted in an error, or was cancelled, then this will
instead return -1 and set <cite>error</cite>.</p>
<p>Since this method transfers ownership of the return value (or
error) to the caller, you may only call it once.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.propagate_pointer">
<tt class="descname">propagate_pointer</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.propagate_pointer" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="../../GLib_2.0/classes/GError.html#GLib.GError" title="GLib.GError"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the task result, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> on error</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the result of <cite>task</cite> as a pointer, and transfers ownership
of that value to the caller.</p>
<p>If the task resulted in an error, or was cancelled, then this will
instead return <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> and set <cite>error</cite>.</p>
<p>Since this method transfers ownership of the return value (or
error) to the caller, you may only call it once.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.return_boolean">
<tt class="descname">return_boolean</tt><big>(</big><em>result</em><big>)</big><a class="headerlink" href="#Gio.Task.return_boolean" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>result</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a>) &#8211; the <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a> result of a task function.</td>
</tr>
</tbody>
</table>
<p>Sets <cite>task</cite> &#8216;s result to <cite>result</cite> and completes the task (see
<a class="reference internal" href="#Gio.Task.return_pointer" title="Gio.Task.return_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_pointer</span></tt></a> () for more discussion of exactly what this
means).</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.return_error_if_cancelled">
<tt class="descname">return_error_if_cancelled</tt><big>(</big><big>)</big><a class="headerlink" href="#Gio.Task.return_error_if_cancelled" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if <cite>task</cite> has been cancelled, <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> if not</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Checks if <cite>task</cite> &#8216;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> has been cancelled, and if so, sets
<cite>task</cite> &#8216;s error accordingly and completes the task (see
<a class="reference internal" href="#Gio.Task.return_pointer" title="Gio.Task.return_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_pointer</span></tt></a> () for more discussion of exactly what this
means).</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.return_int">
<tt class="descname">return_int</tt><big>(</big><em>result</em><big>)</big><a class="headerlink" href="#Gio.Task.return_int" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>result</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; the integer (#gssize) result of a task function.</td>
</tr>
</tbody>
</table>
<p>Sets <cite>task</cite> &#8216;s result to <cite>result</cite> and completes the task (see
<a class="reference internal" href="#Gio.Task.return_pointer" title="Gio.Task.return_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_pointer</span></tt></a> () for more discussion of exactly what this
means).</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.return_pointer">
<tt class="descname">return_pointer</tt><big>(</big><em>result</em>, <em>result_destroy</em><big>)</big><a class="headerlink" href="#Gio.Task.return_pointer" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>result</strong> (<tt class="xref py py-class docutils literal"><span class="pre">object</span></tt> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; the pointer result of a task function</li>
<li><strong>result_destroy</strong> (<a class="reference internal" href="../../GLib_2.0/callbacks.html#GLib.DestroyNotify" title="GLib.DestroyNotify"><tt class="xref py py-class docutils literal"><span class="pre">GLib.DestroyNotify</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; a <a class="reference internal" href="../../GLib_2.0/callbacks.html#GLib.DestroyNotify" title="GLib.DestroyNotify"><tt class="xref py py-class docutils literal"><span class="pre">GLib.DestroyNotify</span></tt></a> function.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Sets <cite>task</cite> &#8216;s result to <cite>result</cite> and completes the task. If <cite>result</cite>
is not <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>, then <cite>result_destroy</cite> will be used to free <cite>result</cite> if
the caller does not take ownership of it with
<a class="reference internal" href="#Gio.Task.propagate_pointer" title="Gio.Task.propagate_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.propagate_pointer</span></tt></a> ().</p>
<p>&#8220;Completes the task&#8221; means that for an ordinary asynchronous task
it will either invoke the task&#8217;s callback, or else queue that
callback to be invoked in the proper <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a>, or in the next
iteration of the current <a class="reference internal" href="../../GLib_2.0/structs/MainContext.html#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a>. For a task run via
<tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread</span></tt> () or <tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread_sync</span></tt> (), calling this
method will save <cite>result</cite> to be returned to the caller later, but
the task will not actually be completed until the <a class="reference internal" href="../callbacks.html#Gio.TaskThreadFunc" title="Gio.TaskThreadFunc"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TaskThreadFunc</span></tt></a>
exits.</p>
<p>Note that since the task may be completed before returning from
<a class="reference internal" href="#Gio.Task.return_pointer" title="Gio.Task.return_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_pointer</span></tt></a> (), you cannot assume that <cite>result</cite> is still
valid after calling this, unless you are still holding another
reference on it.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.set_check_cancellable">
<tt class="descname">set_check_cancellable</tt><big>(</big><em>check_cancellable</em><big>)</big><a class="headerlink" href="#Gio.Task.set_check_cancellable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>check_cancellable</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a>) &#8211; whether <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> will check the state of its <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> for you.</td>
</tr>
</tbody>
</table>
<p>Sets or clears <cite>task</cite> &#8216;s check-cancellable flag. If this is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>
(the default), then <a class="reference internal" href="#Gio.Task.propagate_pointer" title="Gio.Task.propagate_pointer"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.propagate_pointer</span></tt></a> (), etc, and
<a class="reference internal" href="#Gio.Task.had_error" title="Gio.Task.had_error"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.had_error</span></tt></a> () will check the task&#8217;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> first, and
if it has been cancelled, then they will consider the task to have
returned an &#8220;Operation was cancelled&#8221; error
(<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><tt class="xref py py-class docutils literal"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></tt></a> ), regardless of any other error or return
value the task may have had.</p>
<p>If <cite>check_cancellable</cite> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a>, then the <a class="reference internal" href="#Gio.Task" title="Gio.Task"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task</span></tt></a> will not check the
cancellable itself, and it is up to <cite>task</cite> &#8216;s owner to do this (eg,
via <a class="reference internal" href="#Gio.Task.return_error_if_cancelled" title="Gio.Task.return_error_if_cancelled"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_error_if_cancelled</span></tt></a> ()).</p>
<p>If you are using <a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_return_on_cancel</span></tt></a> () as well, then
you must leave check-cancellable set <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.set_priority">
<tt class="descname">set_priority</tt><big>(</big><em>priority</em><big>)</big><a class="headerlink" href="#Gio.Task.set_priority" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>priority</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; the priority of the request.</td>
</tr>
</tbody>
</table>
<p>Sets <cite>task</cite> &#8216;s priority. If you do not call this, it will default to
<a class="reference internal" href="../../GLib_2.0/constants.html#GLib.PRIORITY_DEFAULT" title="GLib.PRIORITY_DEFAULT"><tt class="xref py py-class docutils literal"><span class="pre">GLib.PRIORITY_DEFAULT</span></tt></a>.</p>
<p>This will affect the priority of <a class="reference internal" href="../../GLib_2.0/structs/Source.html#GLib.Source" title="GLib.Source"><tt class="xref py py-class docutils literal"><span class="pre">GLib.Sources</span></tt></a> created with
<tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.attach_source</span></tt> () and the scheduling of tasks run in threads,
and can also be explicitly retrieved later via
<a class="reference internal" href="#Gio.Task.get_priority" title="Gio.Task.get_priority"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.get_priority</span></tt></a> ().</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.set_return_on_cancel">
<tt class="descname">set_return_on_cancel</tt><big>(</big><em>return_on_cancel</em><big>)</big><a class="headerlink" href="#Gio.Task.set_return_on_cancel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_on_cancel</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a>) &#8211; whether the task returns automatically when it is cancelled.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if <cite>task</cite> &#8216;s return-on-cancel flag was changed to match <cite>return_on_cancel</cite>. <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> if <cite>task</cite> has already been cancelled.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Sets or clears <cite>task</cite> &#8216;s return-on-cancel flag. This is only
meaningful for tasks run via <tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread</span></tt> () or
<tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread_sync</span></tt> ().</p>
<p>If <cite>return_on_cancel</cite> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>, then cancelling <cite>task</cite> &#8216;s
<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> will immediately cause it to return, as though the
task&#8217;s <a class="reference internal" href="../callbacks.html#Gio.TaskThreadFunc" title="Gio.TaskThreadFunc"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TaskThreadFunc</span></tt></a> had called
<a class="reference internal" href="#Gio.Task.return_error_if_cancelled" title="Gio.Task.return_error_if_cancelled"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.return_error_if_cancelled</span></tt></a> () and then returned.</p>
<p>This allows you to create a cancellable wrapper around an
uninterruptable function. The <a class="reference internal" href="../callbacks.html#Gio.TaskThreadFunc" title="Gio.TaskThreadFunc"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TaskThreadFunc</span></tt></a> just needs to be
careful that it does not modify any externally-visible state after
it has been cancelled. To do that, the thread should call
<a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_return_on_cancel</span></tt></a> () again to (atomically) set
return-on-cancel <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> before making externally-visible changes;
if the task gets cancelled before the return-on-cancel flag could
be changed, <a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_return_on_cancel</span></tt></a> () will indicate this by
returning <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a>.</p>
<p>You can disable and re-enable this flag multiple times if you wish.
If the task&#8217;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> is cancelled while return-on-cancel is
<a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a>, then calling <a class="reference internal" href="#Gio.Task.set_return_on_cancel" title="Gio.Task.set_return_on_cancel"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.set_return_on_cancel</span></tt></a> () to set it <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>
again will cause the task to be cancelled at that point.</p>
<p>If the task&#8217;s <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> is already cancelled before you call
<tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.run_in_thread</span></tt> ()/g_task_run_in_thread_sync(), then the
<a class="reference internal" href="../callbacks.html#Gio.TaskThreadFunc" title="Gio.TaskThreadFunc"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TaskThreadFunc</span></tt></a> will still be run (for consistency), but the task
will also be completed right away.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.set_source_tag">
<tt class="descname">set_source_tag</tt><big>(</big><em>source_tag</em><big>)</big><a class="headerlink" href="#Gio.Task.set_source_tag" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source_tag</strong> (<tt class="xref py py-class docutils literal"><span class="pre">object</span></tt>) &#8211; an opaque pointer indicating the source of this task</td>
</tr>
</tbody>
</table>
<p>Sets <cite>task</cite> &#8216;s source tag. You can use this to tag a task return
value with a particular pointer (usually a pointer to the function
doing the tagging) and then later check it using
<a class="reference internal" href="#Gio.Task.get_source_tag" title="Gio.Task.get_source_tag"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Task.get_source_tag</span></tt></a> () (or <a class="reference internal" href="../interfaces/AsyncResult.html#Gio.AsyncResult.is_tagged" title="Gio.AsyncResult.is_tagged"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult.is_tagged</span></tt></a> ()) in the
task&#8217;s &#8220;finish&#8221; function, to figure out if the response came from a
particular place.</p>
</dd></dl>

<dl class="method">
<dt id="Gio.Task.set_task_data">
<tt class="descname">set_task_data</tt><big>(</big><em>task_data</em>, <em>task_data_destroy</em><big>)</big><a class="headerlink" href="#Gio.Task.set_task_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>task_data</strong> (<tt class="xref py py-class docutils literal"><span class="pre">object</span></tt> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; task-specific data</li>
<li><strong>task_data_destroy</strong> (<a class="reference internal" href="../../GLib_2.0/callbacks.html#GLib.DestroyNotify" title="GLib.DestroyNotify"><tt class="xref py py-class docutils literal"><span class="pre">GLib.DestroyNotify</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; <a class="reference internal" href="../../GLib_2.0/callbacks.html#GLib.DestroyNotify" title="GLib.DestroyNotify"><tt class="xref py py-class docutils literal"><span class="pre">GLib.DestroyNotify</span></tt></a> for <cite>task_data</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Sets <cite>task</cite> &#8216;s task data (freeing the existing task data, if any).</p>
</dd></dl>

</dd></dl>

</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="TcpConnection.html" class="btn btn-neutral float-right" title="Gio.TcpConnection"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="SocketService.html" class="btn btn-neutral" title="Gio.SocketService"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright .
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>